<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>An Introduction to Git</title>
  <link type="text/css" rel="stylesheet" href="preso/sh/styles/shCoreDefault.css"/>
  <link type="text/css" rel="stylesheet" href="preso/css/dzslides.css"/>
  <link type="text/css" rel="stylesheet" href="preso/css/custom.css"/>

  <script type="text/javascript" src="preso/js/jquery.js"></script>
  <script type="text/javascript" src="preso/sh/scripts/shCore.js"></script>
  <script type="text/javascript" src="preso/sh/scripts/shAutoloader.js"></script>
  <script type="text/javascript" src="preso/js/dzslides.js"></script>
  <script type="text/javascript" src="preso/js/custom.js"></script>
</head>
<body>

<!-- i borrowed this presentation rig from https://github.com/cowboy after seeing it in action at jQuery conf 2011 -->







<section>
  <h1>An Introduction to Git</h1>
  <div style="width:820px;padding-top:1em" class="smaller">
	<div style="width:300px;float:right">
        <img style="display:block;margin:0.4em auto 0" src="images/gitlogo.png" alt="git">
    </div>
    <div style="width:500px;float:right">
      <h3 style="margin-bottom:0">
        btanaka@apple.com
      </h3>
    </div>
    <div style="clear:both"></div>
  </div>
</section>


<section>
  <h1>What We'll Cover Today</h1>
  <p>
	<ul>
	<li>What is Git?</li>
	<li>Benefits</li>
	<li>Key concepts</li>
	<li>A simple, hands-on example</li>
	<li>Typical daily workflow</li>
	<li>What next?</li>
	</ul>
<p>
</section>






<section>
  <h1>What is Git?</h1>
	<p>&#147;Git is a free & open source, distributed version control system designed to handle everything
	from small to very large projects with speed and efficiency."</p>
	<aside>http://git-scm.com/</aside>
</section>
<section>
  <h1>What is Git? (cont'd.)</h1>
	<p>
	A little history...
	<ul>
	<li>First there was RCS</li>
	<li>Then there was CVS</li>
	<li>And then there was Subversion</li>
	</ul>
	</p>
</section>
<section>
  <h1>What is Git? (cont'd.)</h1>
	<p>Whereas Subversion was created to be "A Better CVS",
	Git is&mdash;to coin a
	phrase&mdash;<em>magical
	and revolutionary.</em></p>
	</p>
</section>








<section>
  <h1>Benefits of Git</h1>
<ul>
	<li>Git makes your life easier</li>
	<ul>
		<li>Offline commits</li>
		<li>Cheap branching and merging (So easy you'll actually use them)</li>
		<li>More flexible workflows</li>
	</ul>
	<li>Data redundancy and replication.
		<span class="unhighlightbt">Since there are multiple full repos on multiple machines (instead of one central repo), the risk of project loss is lower.</span></li>
	<li>High availability. <span class="unhighlightbt">Server down? Network down? No problem. Work in your repo (commit, view history, branch etc) to your heart's content. Try that with Subversion!</span></li>
</ul>
</p>
</section>
<section>
	 <h1>Benefits of Git (cont'd.)</h1>
	<ul>
	<li>Only one .git directory <em>per repository</em>. (Versus a .svn in every subfolder)</li>
	<li>Superior disk utilization and network performance</li>
	<li>Properties such as ignores are <em>much easier to manage</em></li>
	<li>Much more</li>
	</ul>
</section>
<section>
	<h1>Real world stats</h1>
	<p>
	A very large (lots of code, long history) repository, real-world SVN vs Git metrics:
	</p>
	<p>
	<ul>
	<li>SVN much bigger disk hog (On the order of 200 times bigger!)</li>
	<li>SVN much slower across network</li>
	<li>Sorry to be vague. See my May 19th email for details.</li>
	</ul>
</section>






<section>
  <h1>Key Concepts</h1>
	<p>
	<ul>
	<li>Git is distributed &mdash; Each repo is <em>the full repo</em>; a peer of every clone</li>
	<li>Changes are committed <em>locally</em> <span class="unhighlightbt">(versus committing to a central server, a la Subversion)</span></li>
	<li>Collaborative code is shared via push & pull</li>
	</ul>
	</p>
</section>
<section>
	<h1>Key Concepts (cont'd.)</h1>
	<p>
	<ul>
	<li>Branching and merging is easy and useful</li>
	<li>Revision identifiers are hashes of the full tree, not sequential versions like SVN's.
	<span class="unhighlightbt">For example, the current revision of this presentation is 8b328d08f212ab855906a56ec921b3a996a5c85c.
	Fortunately, you can refer to it in commands with a unique substring, eg 8b32.</span></li>
	<li>Where you are in the tree is more complicated than in SVN (Out of scope)</li>
	</ul>
	</p>
</section>
<section>
  <h1>Key Concepts (cont'd.)</h1>
	<p>
	<ul>
	<li>Changes are <em>staged</em> then committed</li>
	<li>Git tracks content, not metadata. It tracks changes in the tree, not files or directories. (Sub-file tracking.)</li>
	<li>If you want collaborators to receive your changes, push your
	commits to a &#147;rendezvous" repository on a server you can both access</li>
	<li>To receive collaborators' commits, pull commits from the &#147;rendezvous" repository</li>
	</ul>
	</p>
	<aside>[1] There are other ways to collaborate (eg. via patches, pulling and pushing directly between peers, etc) but the rendezvous server method is the usual practice.</aside>
</section>
<section>
  <h1>Key Concepts (cont'd.)</h1>
	<p>
	<ul>
	<li>Be confident, but don't be lulled into a false sense of excessive confidence. <span class="unhighlightbt">Many concepts in Git correspond to concepts in SVN, but it's critical to grok the fundamental differences
	between Git and SVN. Elsewise, trouble ensues.</span></li>
	<li>Fortunately, it doesn't take long.</li>
	</ul>
	</p>
</section>

<section>
  <h1>A Quick Word About the Commands</h1>
  <ul>
  <li>
  At first, Git commands can look intimidating. &#147;So many commands! My brain is exploding!"
  </li>
  <li>
  Fortunately,
  Git is a bit like Unix&mdash;Though there's a ton of commands you <em>can</em> use, you'll be 
  productive with just a small handful.
  </li>
  <li>As you'll see, the typical daily workflow requires mastery of very few commands.</li>
  <li>
  Don't be afraid. Let's look at a simple example...
  </li>
  </ul>
</section>







<section>
  <h1>A simple example</h1>
  <p>Say your project is comprised of an HTML file with some CSS.</p>
  <p>Let's make a git repo.</p>
</section>

<section>
	<h1>But first..</h1>
	<p>If you haven't done so, introduce yourself to git:</p>
	<pre class="brush:js class-name:l16">
	$ git config --global user.name "Your Name"
	$ git config --global user.email you@yourdomain.example.com
</pre>
	<p>(You only need to do this once.)</p>
</section>


<section>
  <h1>Creating the repo</h1>
  <p>It's easy!</p>
  <p>First, let's create a directory and some files. (This isn't git stuff yet.)</p>
  <pre class="brush:js class-name:l16">
	$ mkdir foo // create a new directory for the project
	$ cd foo // navigate to that directory
	$ touch README page1.html  // create the files
  </pre>
</section>
<section>
  <h1>Creating the repo (cont'd.)</h1>
  <p>Now let's create the git repository and commit. Three easy steps:</p>
<pre class="brush:js class-name:l16">
	$ git init . // initialize a new Git repository
	$ git add . // add the current directory and its contents to the git staging area
	$ git commit -a -m "initial commit" // commit!
</pre>
	<p>That's it!</p>
	<p>You've created a new Git repository and performed your first commit.</p>
</section>

<section>
	<h1>Creating the repo (cont'd.)</h1>
	<h2>A little tip</h2>
	<p>Creating a new Git repo is <em>trivially easy</em>.
	Because it's so easy (just a few seconds of effort) you can freely experiment.
	<span class="unhighlightbt">Want to know what effect a git amend will have on your squashed merge but don't want to find out the hard way in your real repo? Spin up
		a new repo and try it out.</span></p>
</section>


<section>
	<h1>Making a few changes</h1>
	<p>Add some basic content to the file. (Hope you have snippets!)</p>
	<pre class="brush:js class-name:l16">
		&lt;html&gt;                
		&lt;head&gt;                
		        &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=utf-8&quot;&gt;

		        &lt;title&gt;Page1&lt;/title&gt;
		        &lt;style type=&quot;text/css&quot; media=&quot;screen&quot;&gt;
		                body {
		                        background: red;
		                }   
		        &lt;/style&gt;   
		&lt;/head&gt;               
		&lt;body&gt;                
		        i am master                                                       
		&lt;/body&gt;               
		&lt;/html&gt;
  </pre>
	<p>Save your changes, load the page in Safari, and behold the redness.</p>
</section>

<section>
	<h1>Making a few changes (cont'd.)</h1>
	<p>See your changes:</p>
	<pre class="brush:js class-name:l16">
		$ git status // like svn status
		$ git diff --color // totally cooler than svn diff
</pre>
	<p>Commit these new changes:</p>
		<pre class="brush:js class-name:l16">
			$ git commit -a // -a adds the changes to staging. And yes, you can git commit -a -m "message"
</pre>
	<p>View history:</p>
		<pre class="brush:js class-name:l16">
			$ git log // gui example: gitk
</pre>
<p>You mentioned staging. What's that?</p>
</section>

	
<section>
  <h1>Staging</h1>
  <ul>
	<li>Files are added to the staging area and then committed.</li>
	<li>You can add multiple changes in multiple files to staging before committing.</li>
	<li>(Actually, git doesn't care about your so-called files, puny human. The tree is all!)</li>
  </ul>
  <div style="width:513px;padding-top:1em" class="smaller">
	<div style="width:300px;">
        <img style="display:block;margin:0.4em auto 0" src="images/wd_stage_history.png" alt="git">
    </div>
</section>


<section>
	<h1>Make a few more changes</h1>
	<p>Let's make a change to the css so we can see a simple change.</p>
	<p>Add the following two lines (or similar) to the style and change the background color to blue:</p>
<pre class="brush:js class-name:l16">
	background: blue;
	color: #fff;
	font-size: 500%;
</pre>
	<p>Save, then reload in Safari and behold the change.</p>
	<p>Inspect with your shiny new git commands, and then commit:</p>
	<pre class="brush:js class-name:l16">
	$ git diff --color // NOTE: the old background line is red, and the new one is green
	$ git commit -a
	$ git log
</pre>
</section>







<section>
	<h1>Branching</h1>
	<h2>Why branch at all?</h2>
	<ul>
			<li>Scenario: Working in an experimental branch. Ah... freedom!</li>
			<ul>
				<li>Like it? Merge it</li>
				<li>Hate it? Delete branch</li>
			</ul>
			<li>Scenario: The "inconvenient bug" scenario</li>
			<ol>
				<li>You're happily working in a branch when a P1 bug occurs in master</li>
				<li>In an instant, you switch to master, and fix the bug</li>
				<li>Switch back to your branch, and you're right where you left off</li>
			</ol>
		</ul>
</section>
<section>
	<h1>Branching (cont'd.)</h1>
	<h2>&#147;Branches are cheap and easy? Prove it."</h2>
	<p></p>
</section>
<section>
	<h1>Branching (cont'd.)</h1>
	<p>The goal: Create a new branch, and watch it do its magic.</p>
	<pre class="brush:js class-name:l16">
		$ git branch // shows all your branches
		$ git branch experiment // creates a new branch called experiment
		$ git branch // look! we're still on master. see the star?
		$ git checkout experiment
		$ git branch // ah. now we're rocking the experiment branch
</pre>
<p>In real life, you'll do this in one command:</p>
<pre class="brush:js class-name:l16">
		$ git checkout -b foo // create branch foo and switch to it
</pre>
</section>
<section>
	<h1>Branching (cont'd.)</h1>
	<ul>
		<li>In SVN, branches are subdirectories of someProject/branches/</li>
		<li>In Git, checking out a branch magically transmogrifies your working tree</li>
		<li>You have one working tree, and it changes state depending on the branch you have checked out</li>
	</ul>
</section>
<section>
	<h1>Branching (cont'd.)</h1>
	<p>Let's take some of that magic transmogrification for a spin</p>
	<ol>
	<li>Check out experiment (git checkout experiment)</li>
	<li>Edit the CSS so the background color is green</li>
	<li>Change "i am master" to "i am experiment"</li>
	<li>Save and git commit your change</li>
	<li>Reload Safari. Mmm... green...</li>
	<li>Now, check out master (git checkout master)</li>
	<li>Reload Safari. Whoa! Blue!</li>	
	<li>Rinse. Repeat.</li>
	<li>Note: vim, TextMate, Netbeans, and Xcode are all transmogrification-compliant</li>
	</ol>
</section>
<section>
	<h1>Branching (cont'd.)</h1>
	<h2>Use your stash</h2>
	<ul>
	<li>When you check out master, if you have un-committed changes in your current branch, git will merge that branch
		onto master. Don't learn this the hard way, like I did.</li>
	<li>git stash is your friend.</li>
	<li>git stash is especially your friend in the "inconvenient bug scenario." (Stash, checkout, hack, checkout, stash apply.)</li>
	</ul>
</section>
<section>
	<h1>Merging</h1>
	<p>To keep things simple, let's do a very simple merge with no conflicts.</p>
	<pre class="brush:js class-name:l16">
		$ git checkout master
		$ git checkout -b mergetest
		// Edit page1.html. Add a new line that won't cause a merge conflict. eg:
		&lt;body&gt;                       
		        i am master          
		        this is a new line                                                                                                             
		&lt;/body&gt;
		$ git commit -a
</pre>
	<p>Now we're ready to merge</p>
<pre class="brush:js class-name:l16">
		$ git checkout master
		$ git merge mergetest // compare and contrast with http://svnbook.red-bean.com/en/1.5/svn.branchmerge.basicmerging.html
</pre>
</section>
<section>
	<h1>Merging (cont'd.)</h1>
	<h2>But what if there <em>is</em> a conflict?</h2>
	<p>You will receive a message like this:</p>
	<pre class="brush:js class-name:l16">
		$ git merge experiment 
		Auto-merging page1.html
		CONFLICT (content): Merge conflict in page1.html
		Automatic merge failed; fix conflicts and then commit the result.
</pre>
	<p>Git's good, but it can't read your mind. Resolve the conflict manually and commit.</p>
	<pre class="brush:js class-name:l16">
		&lt;/head&gt;
		&lt;body&gt;
		&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
			i am master
			this is a new line
		=======
			i am experiment. isn&#x27;t that a delight?
		&gt;&gt;&gt;&gt;&gt;&gt;&gt; experiment
		&lt;/body&gt;
		&lt;/html&gt;
</pre>
</section>








<section>
	<h1>Typical Daily Workflow</h1>
	<p>A typical git day might look like this:</p>
	  <pre class="brush:js class-name:l16">
		git pull
		(Hack hack hack)
		git diff --color // alias: gdiff
		git commit -a -m "added new cool feature" // alias: gca
		(Hack hack hack)
		git commit -a -m "fixed annoying bug"
		( . . .  repeat 2-5 above, plus branching  . . . )
		git pull
		git push
		( . . .  repeat 1-8 above, plus branching  . . . )
</pre>
	</ol>
	</section>




<section>
	<h1>Learning more</h1>
	<ul>
		<li>http://git-scm.com/</li>
		<li>http://help.github.com/</li>
		<li>http://gitready.com/</li>
	</ul>
</section>




<section>
	<h1>What's next?</h1>
	<p>Possible topics for Intermediate Git brown bag...</p>
	<ul>
		<li>git-svn</li>
		<li>Interacting with a rendezvous repo</li>
		<li>Git integration with XCode4</li>
		<li>Tower and friends</li>
		<li>Intermediate Git commands (eg. reset, amend, etc)</li>
		<li>Hooks</li>
		<li>Tracking multiple remote branches</li>
		<li>Keeping local branches current with remote changes to master</li>
		<li>Whatever everyone's interested in</li>
	</ul>
</section>




<!-- ----------------- -->

<section>
<h1>Clone this presentation</h1>
https://github.com/btanaka/Git-Tutorial-One
</section>




</body>
</html>
